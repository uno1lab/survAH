[{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"introduction","dir":"Articles","previous_headings":"","what":"1 Introduction","title":"Vignette for survAH package","text":"important objective clinical research investigating safety efficacy new intervention provide quantitative information intervention effect clinical outcomes. quantitative information critical informed treatment decision making balance risks benefits new intervention. studies time--event outcomes clinical endpoints interest, traditional Cox’s hazard ratio (HR) used estimating reporting treatment effect magnitude many decades. However, traditional approach may provided sufficient quantitative information needed informed decision making clinical practice following reasons. First, approach require calculating absolute hazard group order calculate HR, desirable feature statistical point view, makes clinical interpretation difficult. clinical point view, two numbers treatment control groups necessary interpreting -group contrast measure (e.g., difference ratio). Second, proportional hazards assumption correct, interpretation HR obvious affected underlying study-specific censoring time distribution.[1,2] average hazard survival weight (AHSW), can interpreted general censoring-free incidence rate (CFIR), summary measure event time distribution depend underlying study-specific censoring time distribution. approach using AHSW (CFIR) provides two numbers treatment control groups allows us summarize treatment effect magnitude absolute relative terms, enhance clinical interpretation treatment effect time--event outcomes.[3,4] vignette supplemental documentation survAH package illustrates use functions package compare two groups respect AHSW (CFIR). package made tested R version 4.4.1.","code":""},{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"installation","dir":"Articles","previous_headings":"","what":"2 Installation","title":"Vignette for survAH package","text":"Open R RStudio applications. , copy paste either following scripts command line. install package CRAN: install development version:","code":"install.packages(\"survAH\") install.packages(\"devtools\") #-- if the devtools package has not been installed devtools::install_github(\"uno1lab/survAH\")"},{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"sample-reconstructed-data","dir":"Articles","previous_headings":"","what":"2 Sample Reconstructed Data","title":"Vignette for survAH package","text":"Throughout vignette, use sample reconstructed data CheckMate214 study reported Motzer et al. [5] data consists 847 patients previously untreated clear-cell advanced renal-cell carcinoma; 425 nivolumab plus ipilimumab group (treatment) 422 sunitinib group (control). sample reconstructed data CheckMate214 study available survAH package cm214_pfs. load data, copy paste following scripts command line. , time months registration progression-free survival (PFS), status indicator event (1: event, 0: censor), arm treatment assignment indicator (1: Treatment group, 0: Control group). Kaplan-Meier estimates PFS treatment group.  two survival curves showed similar trajectories six months, , difference appeared two groups. -called delayed difference pattern often seen immunotherapy trials. HR based traditional Cox’s method 0.82 (0.95CI: 0.68 0.99, p-value=0.037). Since validity proportional hazards assumption clear study, clear interpretation reported HR. Even proportional hazards assumption seemed reasonable, lack group-specific absolute value regarding hazard makes clinical interpretation treatment effect difficult. example, baseline absolute hazard low, reported HR (0.82) may indicate clinically ignorable treatment effect magnitude. high, even HR closer 1 (e.g., 0.98) may indicate clinically significant treatment effect magnitude.","code":"library(survAH)  nrow(cm214_pfs) #> [1] 847  head(cm214_pfs) #>    time status arm #> 1 0.451      1   1 #> 2 0.451      1   1 #> 3 0.451      1   1 #> 4 0.451      1   1 #> 5 0.451      1   1 #> 6 0.710      1   1"},{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"average-hazard-with-survival-weight-ahsw","dir":"Articles","previous_headings":"","what":"3 Average Hazard with Survival Weight (AHSW)","title":"Vignette for survAH package","text":"given \\(\\tau,\\) general form average hazard (AH) denoted \\[ \\eta(t) = \\frac{\\int_0^\\tau h(u)w(u)du}{\\int_0^\\tau w(u)du},\\] \\(h(t)\\) \\(w(t)\\) hazard function event time \\(T,\\) non-negative weight function, respectively. Let \\(S(t)\\) survival function \\(T.\\) use \\(S(t)\\) weight, gives AHSW \\[ \\eta(t) = \\frac{\\int_0^\\tau h(u)S(u)du}{\\int_0^\\tau S(u)du}.\\] detailed motivation using \\(S(t)\\) \\(w(t)\\) discussed Uno Horiguchi [3]. AHSW clear interpretation average person-time incidence rate given time window \\([0,\\tau].\\) can also called general censoring-free incidence rate (CFIR) contrast conventional person-time incidence rate potentially depends underlying study-specific censoring time distribution. now , simply call AHSW (CFIR) average hazard (AH). AH denoted ratio cumulative incidence probability restricted mean survival time \\(\\tau < \\infty\\): \\[ \\eta(\\tau) = \\frac{1-S(\\tau)}{\\int_0^\\tau S(t)dt}.\\] Let \\(\\widehat{S}(t)\\) denote Kaplan-Meier estimator \\(S(t).\\) natural estimator \\(\\eta(\\tau)\\) given \\[ \\widehat{\\eta}(\\tau) = \\frac{1-\\widehat{S}(\\tau)}{\\int_0^\\tau {\\widehat S} (t)dt}.\\] large sample properties standard error formula \\(\\widehat{\\eta}(\\tau)\\) given Uno Horiguchi [3].","code":""},{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"two-sample-comparison-using-ah-and-its-implementation","dir":"Articles","previous_headings":"","what":"4 Two-sample comparison using AH and its implementation","title":"Vignette for survAH package","text":"Let \\(\\eta_{1}(\\tau)\\) \\(\\eta_{0}(\\tau)\\) denote AH treatment group 1 0, respectively. Now, compare two survival curves, using AH. Specifically, consider following two measures capture -group contrast: Difference AH (DAH) \\[ \\eta_{1}(\\tau) - \\eta_{0}(\\tau) \\] Ratio AH (RAH) \\[ \\eta_{1}(\\tau) / \\eta_{0}(\\tau) \\] estimated simply replacing \\(\\eta_{1}(\\tau)\\) \\(\\eta_{0}(\\tau)\\) empirical counterparts (.e., \\(\\widehat{\\eta_{1}}(\\tau)\\) \\(\\widehat{\\eta_{0}}(\\tau)\\), respectively). inference ratio type metrics, use delta method calculate standard error. Specifically, consider \\(\\log \\{ \\widehat{\\eta_{1}}(\\tau)\\}\\) \\(\\log \\{ \\widehat{\\eta_{0}}(\\tau)\\}\\) calculate standard error log-AH. calculate confidence interval log-ratio AH, transform back original ratio scale; detailed formula given [4]. procedures show use function, ah2, implement analyses. first argument (time) time--event vector variable. second argument (status) also vector variable length time, elements takes either 1 (event) 0 (event). third argument (arm) vector variable indicate assigned treatment subject; elements vector take either 1 (active treatment arm) 0 (control arm). fourth argument (tau) scalar value specify truncation time point \\({\\tau}\\) AH calculation. \\(\\tau\\) specified ah2, (.e., code looks like ) default \\(\\tau\\) (.e., maximum time point size risk set groups remains least 10) used calculate AH. best confirm size risk set large enough specified \\(\\tau\\) group make sure Kaplan-Meier estimates stable. ah2 function returns AH group results -group contrast measures listed . Note chose 21 months \\(\\tau\\) example. estimated AHs 0.049 (0.95CI: 0.042 0.057) 0.066 (0.95CI: 0.057 0.076) treatment group control group, respectively. ratio difference AH 0.747 (0.95CI: 0.608 0.917, p-value=0.005) -0.017 (0.95CI: -0.029 -0.005, p-value=0.006), respectively.","code":"time   = cm214_pfs$time status = cm214_pfs$status arm    = cm214_pfs$arm ah2(time=time, status=status, arm=arm, tau=21) ah2(time, status, arm) obj = ah2(time, status, arm, tau=21) print(obj, digits=3) #>  #> The time window: [eta, tau] = [0, 21] was specified. #>  #> Number of observations:  #>      Total N Event by tau Censor by tau At risk at tau #> arm0     422          225           163             34 #> arm1     425          219           160             46 #>  #>  #> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 Upper 0.95 #> AH (arm0) 0.066      0.057      0.076 #> AH (arm1) 0.049      0.042      0.057 #>  #>  #> Between-group contrast:  #>                                Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)       0.747      0.608      0.917   0.005 #> Difference of AH (arm1-arm0) -0.017     -0.029     -0.005   0.006"},{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"stratified-analysis-using-the-ah-and-its-implementation","dir":"Articles","previous_headings":"","what":"5 Stratified analysis using the AH and its implementation","title":"Vignette for survAH package","text":"Stratified analysis commonly used clinical trials adjust imbalanced baseline characteristics known prognostic factors. However, traditional stratified methods (e.g., Stratified Cox CMH) assume homogeneous effects across strata, may hold practice. overcome , extend AH framework stratified settings using standardization[4]. approach adjusts stratification preserving interpretability absolute relative treatment effects. framework, treatment effects summarized using adjusted average hazard (AH), defined based standardized survival curves across strata: \\[ \\bar{S}_j(t) = \\sum_{k=1}^{K} w_k S_{jk}(t), \\] \\(S_{jk}(t)\\) denotes survival function group \\(j\\) stratum \\(k\\), \\(w_k\\) aset weights satisfies \\(\\sum_{k=1}^{K} w_k = 1\\) \\(K\\) strata. version package, \\(w_k\\) set proportion subjects stratum \\(k,\\) .e., \\(w_k = (n_{0k}+n_{1k}) / (n_0 + n_1)\\), \\(n_{jk}\\) number subjects stratum \\(k\\) group \\(j\\) \\(n_j\\) total number subjects group \\(j.\\) Using , adjusted AH group \\(j\\) defined \\[ \\bar{\\eta}_j(\\tau) = \\frac{1 - \\bar{S}_j(\\tau)}{\\int_{0}^{\\tau}\\bar{S}_j(t)du} = \\frac{1 - \\left\\{\\sum_{k=1}^{K} w_k S_{jk}(\\tau)\\right\\}}{\\int_0^\\tau \\left\\{\\sum_{k=1}^{K} w_k S_{jk}(u)\\right\\}du}. \\] estimate \\(\\bar{\\eta}_j(\\tau)\\) replacing survival functions Kaplan–Meier estimators \\(\\widehat{S}_{jk}(t).\\) \\[ \\widehat{\\bar{\\eta}}_j(\\tau) = \\frac{1 - \\left\\{\\sum_{k=1}^{K} w_k \\widehat{S}_{jk}(\\tau)\\right\\}}{\\int_0^\\tau \\left\\{\\sum_{k=1}^{K} w_k \\widehat{S}_{jk}(u)\\right\\}du}. \\] compare two groups, use following contrast measures: Difference AH (DAH) defined \\[ \\text{DAH}(\\tau) = \\bar{\\eta}_1(\\tau) - \\bar{\\eta}_0(\\tau), \\] Ratio AH (RAH) defined \\[ \\text{RAH}(\\tau) = \\frac{\\bar{\\eta}_1(\\tau)}{\\bar{\\eta}_0(\\tau)}. \\] estimators \\[ \\widehat{\\text{DAH}}(\\tau) = \\widehat{\\bar{\\eta}}_1(\\tau) - \\widehat{\\bar{\\eta}}_0(\\tau), \\quad \\widehat{\\text{RAH}}(\\tau) = \\frac{\\widehat{\\bar{\\eta}}_1(\\tau)}{\\widehat{\\bar{\\eta}}_0(\\tau)}. \\] also illustrate perform stratified analysis using AH myeloid dataset survival package. dataset simulates randomized trial acute myeloid leukemia includes stratification factor based mutations FLT3 gene (levels , B, C), known affect prognosis.[6] data frame contains 646 observations 9 variables. current analysis, focus following key variables: futime, represents time death last follow-; death, censoring indicator 1 denotes death 0 indicates censoring; trt, treatment variable two levels, arm arm B; flt3, represents mutation burden FLT3 gene, categorized levels , B, C, used stratification factor following analysis. Kaplan-Meier plots survival stratified FLT3 mutation levels (, B, C). curves suggest potential heterogeneity treatment effects across strata.    now apply ah2() function survAH package conduct stratified AH analysis FLT3 mutation levels stratification factor. set \\(\\tau\\) 3 (years). Compared previous sections, arguments remain , now introduce new argument strata perform stratified analysis. strata argument allows us specify categorical variable defines strata analysis. case, use FLT3 mutation levels stratification factor. function report results unstratified stratified analyses. shown ah2 results , unstratified analysis, estimated AHs 0.290 (95% CI: 0.245 0.343) control group 0.207 (95% CI: 0.175 0.246) treatment group. estimated RAH 0.715 (95% CI: 0.563 0.910, p = 0.006), DAH -0.082 (95% CI: -0.143 -0.022, p = 0.007). stratified analysis, adjusts FLT3 mutation subgroups, AHs 0.286 (95% CI: 0.235 0.337) control group 0.207 (95% CI: 0.170 0.243) treatment group. RAH 0.723 (95% CI: 0.562 0.930, p = 0.011), DAH -0.079 (95% CI: -0.142 -0.016, p = 0.013).","code":"library(survival) nrow(myeloid) #> [1] 646 head(myeloid) #>   id trt sex flt3 futime death txtime crtime rltime #> 1  1   B   f    C    235     1     NA     44    113 #> 2  2   A   m    B    286     1    200     NA     NA #> 3  3   A   f    A   1983     0     NA     38     NA #> 4  4   B   f    A   2137     0    245     25     NA #> 5  5   B   f    C    326     1    112     56    200 #> 6  6   B   f    C   2041     0    102     NA     NA  # Create new analysis variables: # - arm_num: binary treatment indicator (1 = arm B [treatment], 0 = arm A [control]) # - time_yr: follow-up time converted from days to years myeloid$arm_num <- ifelse(myeloid$trt == \"B\", 1, 0) myeloid$time_yr <- myeloid$futime / 365.25 myel_time   = myeloid$time_yr myel_status = myeloid$death myel_arm <- ifelse(myeloid$trt == \"B\", 1, 0) # Convert treatment variable to binary: 1 = treatment (arm B), 0 = control (arm A) myel_strata = myeloid$flt3 ah2(time = myel_time,     status = myel_status,     arm = myel_arm,     tau = 3,     strata = myel_strata) myel_obj <- ah2(time = myel_time,                 status = myel_status,                 arm = myel_arm,                 tau = 3,                 strata = myel_strata)  print(myel_obj,digit = 3) #>  #> The time window: [eta, tau] = [0, 3] was specified. #>  #> Number of observations:  #>         total arm0 arm1 #> strata1   149   74   75 #> strata2   319  154  165 #> strata3   178   89   89 #> total     646  317  329 #>  #>  #>      Total N Event by tau Censor by tau At risk at tau #> arm0     317          160            28            129 #> arm1     329          142            18            169 #>  #>  #> <Unstratified analysis> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 Upper 0.95 #> AH (arm0) 0.290      0.245      0.343 #> AH (arm1) 0.207      0.175      0.246 #>  #>  #> <Unstratified analysis> Between-group contrast:  #>                                Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)       0.715      0.563      0.910   0.006 #> Difference of AH (arm1-arm0) -0.082     -0.143     -0.022   0.007 #>  #>  #> <Stratified analysis> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 (orginal scale) Upper 0.95 (orginal scale) #> AH (arm0) 0.286                      0.235                      0.337 #> AH (arm1) 0.207                      0.170                      0.243 #>           Lower 0.95 (based on log scale) Upper 0.95 (based on log scale) #> AH (arm0)                           0.239                           0.342 #> AH (arm1)                           0.173                           0.247 #>  #>  #> <Stratified analysis> Between-group contrast:  #>                                Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)       0.723      0.562      0.930   0.011 #> Difference of AH (arm1-arm0) -0.079     -0.142     -0.016   0.013"},{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"conclusions","dir":"Articles","previous_headings":"","what":"6 Conclusions","title":"Vignette for survAH package","text":"illustrated, presented approach using AHSW provides robust reliable quantitative information treatment effect time--event outcomes traditional Cox’s hazard ratio approach. hope AHSW-based approach, along survAH package, helpful clinical researchers providing interpretable quantitative information treatment effect magnitude, ultimately foster better informed decision making.","code":""},{"path":"https://www.uno1lab.com/survAH/articles/vignette-survAH.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Vignette for survAH package","text":"[1] Uno H, Claggett B, Tian L, et al. Moving beyond hazard ratio quantifying -group difference survival analysis. J Clin Oncol. 2014 Aug 1;32(22):2380-5. doi: 10.1200/JCO.2014.55.2208. Epub 2014 Jun 30. PMID: 24982461; PMCID: PMC4105489. [2] Horiguchi M, Hassett MJ, Uno H. Accrual Pattern Follow-Duration Affect Hazard Ratio Estimate Proportional Hazards Assumption Violated? Oncologist. 2019 Jul;24(7):867-871. doi: 10.1634/theoncologist.2018-0141. Epub 2018 Sep 10. PMID: 30201741; PMCID: PMC6656438. [3] Uno H, Horiguchi M. Ratio difference average hazard survival weight: New measures quantify survival benefit new therapy. Stat Med. 2023 Mar 30;42(7):936-952. doi: 10.1002/sim.9651. Epub 2023 Jan 5. PMID: 36604833. [4] Qian Z, Tian L, Horiguchi M, Uno H. Novel Stratified Analysis Method Testing Estimating Overall Treatment Effects Time--Event Outcomes Using Average Hazard Survival Weight. Stat Med. 2025 Mar 30;44(7):e70056. doi: 10.1002/sim.70056. PMID: 40213923. [5] Motzer RJ, Tannir NM, McDermott DF, et al. Nivolumab plus Ipilimumab versus Sunitinib Advanced Renal-Cell Carcinoma. N Engl J Med. 2018 Apr 5;378(14):1277-1290. doi: 10.1056/NEJMoa1712126. Epub 2018 Mar 21. PMID: 29562145; PMCID: PMC5972549. [6] Le-Rademacher JG, Peterson RA, Therneau TM, Sanford BL, Stone RM, Mandrekar SJ. Application multi-state models cancer clinical trials. Clin Trials. 2018 Oct;15(5):489-498. doi: 10.1177/1740774518789098. Epub 2018 Jul 23. PMID: 30035644; PMCID: PMC6133743.","code":""},{"path":"https://www.uno1lab.com/survAH/articles/vignette.html","id":"introduction","dir":"Articles","previous_headings":"","what":"1 Introduction","title":"Vignette for survAH package","text":"important objective clinical research investigating safety efficacy new intervention provide quantitative information intervention effect clinical outcomes. quantitative information critical informed treatment decision making risk benefit new intervention balanced. studies time--event outcomes clinical endpoints interest, traditional Cox’s hazard ratio taking role estimating reporting treatment effect magnitude many decades. However, traditional approach may well achieved objective clinicial point view. First, approach require calculating absolute hazard group calculate havard ratio, desirable feature statistical point view makes clinical interpretation difficult. clinical point view, two numbers treatment control groups necessary interpreting -group contrast measure (e.g., difference ratio) well. Second, proportional hazards assumption correct, interpretation HR obvious affected underlying study-specific censoring time distribution.[1,2] average hazard survival weight (AHSW), can interpreted general censoring-free incidence rate (CFIR), summary measure event time distribution depend study-specific censoring time distribution. approach using AHSW (CFIR) provides two numbers treatment control groups allows us summarize treatment effect magnitude absoluate relative terms, enhance clinical interpretation treatment effect time--event outcomes.[3] vignette supplemental documentation survAH package illustrates use functions package compare two groups respect AHSW (CFIR). package made tested R version 4.2.0.","code":""},{"path":"https://www.uno1lab.com/survAH/articles/vignette.html","id":"installation","dir":"Articles","previous_headings":"","what":"2 Installation","title":"Vignette for survAH package","text":"install package CRAN: install development version:","code":"install.packages(\"survAH\") install.packages(\"devtools\") #-- if the devtools package has not been installed devtools::install_github(\"uno1lab/survAH\")"},{"path":"https://www.uno1lab.com/survAH/articles/vignette.html","id":"sample-reconstructed-data","dir":"Articles","previous_headings":"","what":"2 Sample Reconstructed Data","title":"Vignette for survAH package","text":"Throughout vignette, use sample reconstructed data CheckMate214 study reported Motzer et al. [4] data consists 847 patients previously untreated clear-cell advanced renal-cell carcinoma; 425 nivolumab plus ipilimumab group (treatment) 422 sunitinib group (control). sample reconstructed data CheckMate214 study available survAH package cm214_pfs. , time months registration progression-free survival (PFS), status indicator event (1: event, 0: censor), arm treatment assignment indicator (1: Treatment group, 0: Control group). Kaplan-Meier (KM) estimates PFS treatment group.  two survival curves showed similar trajectories six months, appeared difference two groups . -called delayed difference pattern often seen immunotherapy trials. hazard ratio based traditional Cox’s method 0.82 (0.95CI: 0.68 0.99, p-value=0.037). Since validity proportional hazards assumption clear study, clear interpretation reported hazard ratio. Even proportional hazards assumption seemed reasonable, lack group-specific absolute value regarding hazard makes clinical interpretation treatment effect difficult. example, baseline absolute hazard low, reported HR (0.82) may indicate clinically ignoble treatment effect magnitude. high, even HR closer 1 (e.g., 0.98) may indicate clinically significant treatment effect magnitude.","code":"library(survAH)  nrow(cm214_pfs) #> [1] 847  head(cm214_pfs) #>    time status arm #> 1 0.451      1   1 #> 2 0.451      1   1 #> 3 0.451      1   1 #> 4 0.451      1   1 #> 5 0.451      1   1 #> 6 0.710      1   1"},{"path":"https://www.uno1lab.com/survAH/articles/vignette.html","id":"average-hazard-with-survival-weight-ahsw","dir":"Articles","previous_headings":"","what":"3 Average Hazard with Survival Weight (AHSW)","title":"Vignette for survAH package","text":"given \\(\\tau,\\) general form average hazard denoted \\[ \\eta(t) = \\frac{\\int_0^\\tau h(u)w(u)du}{\\int_0^\\tau w(u)du},\\] \\(h(t)\\) \\(w(t)\\) hazard function event time \\(T,\\) non-negative weight function, respectively. Let \\(S(t)\\) survival function \\(T.\\) consider using \\(S(t)\\) weight, gives AHSW \\[ \\eta(t) = \\frac{\\int_0^\\tau h(u)S(u)du}{\\int_0^\\tau S(u)du}.\\] detailed motivation using \\(S(t)\\) \\(w(t)\\) discussed Uno Horiguchi [3]. AHSW clear interpretation average person-time incidence rate given time window \\([0,\\tau].\\) can also called general censoring-free incidence rate (CFIR) contrast conventional person-time incidence rate potentially depends underlying study-specific censoring time distribution. now , simply call AHSW (CFIR) average hazard (AH). AH denoted ratio cumulative incidence probability restricted mean survival time \\(\\tau < \\infty\\): \\[ \\eta(\\tau) = \\frac{1-S(\\tau)}{\\int_0^\\tau S(t)dt}.\\] Let \\(\\hat{S}(t)\\) denote Kaplan-Meier estimator \\(S(t).\\) natural estimator \\(\\eta(\\tau)\\) given \\[ \\hat{\\eta}(\\tau) = \\frac{1-\\hat{S}(\\tau)}{\\int_0^\\tau \\hat{S}(t)dt}.\\] large sample properties standard error formula \\(\\hat{\\eta}(\\tau)\\) given Uno Horiguchi [3].","code":""},{"path":"https://www.uno1lab.com/survAH/articles/vignette.html","id":"two-sample-comparison-using-ah-and-its-implementation","dir":"Articles","previous_headings":"","what":"4 Two-sample comparison using AH and its implementation","title":"Vignette for survAH package","text":"Let \\(\\eta_{\\tau}(1)\\) \\(\\eta_{\\tau}(0)\\) denote AH treatment group 1 0, respectively. Now, compare two survival curves, using AH. Specifically, consider following two measures -group contrast. Difference AH (DAH) \\[ \\eta_{1}(\\tau) - \\eta_{0}(\\tau) \\] Ratio AH (RAH) \\[ \\eta_{1}(\\tau) / \\eta_{0}(\\tau) \\] estimated simply replacing \\(\\eta_{1}(\\tau)\\) \\(\\eta_{0}(\\tau)\\) empirical counterparts (.e.,\\(\\hat{\\eta_{1}}(\\tau)\\) \\(\\hat{\\eta_{0}}(\\tau)\\), respectively). inference ratio type metrics, use delta method calculate standard error. Specifically, consider \\(\\log \\{ \\hat{\\eta_{1}}(\\tau)\\}\\) \\(\\log \\{ \\hat{\\eta_{0}}(\\tau)\\}\\) calculate standard error log-AH. calculate confidence interval log-ratio AH, transform back original ratio scale; detailed formula given [4]. shows use function, ah2, implement analyses. first argument (time) time--event vector variable. second argument (status) also vector variable length time, elements takes either 1 (event) 0 (event). third argument (arm) vector variable indicate assigned treatment subject; elements vector take either 1 (active treatment arm) 0 (control arm). fourth argument (tau) scalar value specify truncation time point \\({\\bf \\tau}\\) AH calculation. Note \\(\\tau\\) needs smaller minimum time point largest observed time two groups (default \\(\\tau\\)). \\(\\tau\\) specified ah2, (.e., code looks like) default \\(\\tau\\) (.e.,minimum time point largest observed time two groups) used calculate AH. always encouraged confirm size risk set large enough specified \\(\\tau\\) group make sure stability KM estimates. ah2 function returns AH group results -group contrast measures listed . Note chose 21 months \\(\\tau\\) example. estimated AH 0.049 (0.95CI: 0.042 0.057) 0.066 (0.95CI: 0.057 0.076) treatment group control group, respectively. ratio difference AH 0.747 (0.95CI: 0.608 0.917, p-value=0.005) -0.017 (0.95CI: -0.029 -0.005, p-value=0.006), respectively.","code":"time   = cm214_pfs$time status = cm214_pfs$status arm    = cm214_pfs$arm ah2(time, status, arm, tau=21) ah2(time, status, arm) obj = ah2(time, status, arm, tau=21) print(obj, digits=3) #>  #> Average Hazard (AH) by arm  #>            Est. Lower 0.95 Upper 0.95 #> AH (arm0) 0.066      0.057      0.076 #> AH (arm1) 0.049      0.042      0.057 #>  #>  #> Between-group contrast  #>                                Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)       0.747      0.608      0.917   0.005 #> Difference of AH (arm1-arm0) -0.017     -0.029     -0.005   0.006"},{"path":"https://www.uno1lab.com/survAH/articles/vignette.html","id":"conclusions","dir":"Articles","previous_headings":"","what":"5 Conclusions","title":"Vignette for survAH package","text":"illustrated, presented approash using AHSW provides robust reliable quantitative information treatment effect time--event outcomes traditional Cox’s hazard ratio approach. hope AHSW-based approach, along survAH package, helpful clinical researchers provide interpretable information treatment effect magnitude, ultimately foster better informed decision making.","code":""},{"path":"https://www.uno1lab.com/survAH/articles/vignette.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Vignette for survAH package","text":"[1] Uno H, Claggett B, Tian L, et al. (2014). Moving beyond hazard ratio quantifying -group difference survival analysis. Journal clinical oncology : official journal American Society Clinical Oncology 32, 2380-2385. DOI:10.1200/JCO.2014.55.2208 [2] Horiguchi M, Hassett MJ, Uno H (2019). accrual pattern follow-duration affect hazard ratio estimate proportional hazards assumption violated? Oncologist 24(7), 867-871. DOI:10.1634/theoncologist.2018-0141 [3] Uno H Horiguchi M (2023). Ratio difference average hazard survival weight: new measures quantify survival benefit new therapy. Statistics Medicine DOI:10.1002/sim.9651 [4] Motzer RJ, Tannir NM, McDermott DF, et al. (2018). Nivolumab plus ipilimumab versus sunitinib advanced renal-cell carcinoma. New England Journal Medicine 378(14), 1277–1290. DOI:10.1056/NEJMoa1712126.","code":""},{"path":"https://www.uno1lab.com/survAH/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Hajime Uno. Author. Miki Horiguchi. Author, maintainer. Zihan Qian. Author.","code":""},{"path":"https://www.uno1lab.com/survAH/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Uno H, Horiguchi M, Qian Z (2025). survAH: Survival Data Analysis using Average Hazard. R package version 1.1.2.","code":"@Manual{,   title = {survAH: Survival Data Analysis using Average Hazard},   author = {Hajime Uno and Miki Horiguchi and Zihan Qian},   year = {2025},   note = {R package version 1.1.2}, }"},{"path":"https://www.uno1lab.com/survAH/index.html","id":"survah-survival-data-analysis-using-average-hazard","dir":"","previous_headings":"","what":"Comparing Average Hazard with Survival Weight","title":"Comparing Average Hazard with Survival Weight","text":"survAH package performs two-sample comparisons based average hazard survival weight (AHSW) general censoring-free incidence rate (CFIR).","code":""},{"path":"https://www.uno1lab.com/survAH/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Comparing Average Hazard with Survival Weight","text":"install package CRAN: install updated version:","code":"install.packages(\"survAH\") devtools::install_github(\"uno1lab/survAH\")"},{"path":"https://www.uno1lab.com/survAH/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Comparing Average Hazard with Survival Weight","text":"Please see package vignette website https://www.uno1lab.com/survAH/","code":""},{"path":"https://www.uno1lab.com/survAH/index.html","id":"reference","dir":"","previous_headings":"","what":"Reference","title":"Comparing Average Hazard with Survival Weight","text":"Uno H Horiguchi M. Ratio difference average hazard survival weight: new measures quantify survival benefit new therapy. Statistics Medicine. 2023;1-17. https://doi.org/10.1002/sim.9651 Horiguchi M, Tian L, Kehl K.L., Uno H. Assessing delayed treatment benefits immunotherapy using long-term average hazard: novel test/estimation approach. arXiv. 2024. <arXiv:2403.10742> Qian Z, Tian L, Horiguchi M, Uno H. novel stratified analysis method testing estimating overall treatment effects time--event outcomes using average hazard survival weight. Statistics Medicine. 2025 Mar 30;44(7):e70056. https://doi.org/10.1002/sim.70056","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":null,"dir":"Reference","previous_headings":"","what":"Average Hazard (one sample) — ah1","title":"Average Hazard (one sample) — ah1","text":"Calculates average hazard survival weight corresponding asymptotic confidence interval single sample.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Average Hazard (one sample) — ah1","text":"","code":"ah1(time, status, tau, conf.int=0.95)"},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Average Hazard (one sample) — ah1","text":"time numeric vector follow-times right-censored data. status numeric vector indicating event status; 1 = event occurred, 0 = right censored. tau scalar specifying end time point (tau) calculating average hazard. tau = NULL, default maximum time point risk set size groups least 10. conf.int numeric value specifying confidence level confidence intervals. default 0.95.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Average Hazard (one sample) — ah1","text":"object class ah1, contains following components: need_stop Logical indicator. TRUE, specify another tau. survival probability specified tau needs > 0. tau truncation time point used analysis. result1 Estimated average hazard.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Average Hazard (one sample) — ah1","text":"also provides log-transformed t-year event rate restricted mean survival time (RMST) along variances intermediate products. Note confidence intervals t-year event rate RMST based log-scale values. result, confidence intervals may differ slightly generated surv2sampleComp survRM2 packages.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Average Hazard (one sample) — ah1","text":"Uno H Horiguchi M. Ratio difference average hazard survival weight: new measures quantify survival benefit new therapy. Statistics Medicine. 2023;1-17. <doi:10.1002/sim.9651>","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Average Hazard (one sample) — ah1","text":"Hajime Uno, Miki Horiguchi","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah1.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Average Hazard (one sample) — ah1","text":"","code":"#==================================================================== # cm214_pfs: The sample reconstructed data of the CheckMate214 study. # The code below reproduces the results reported by # Uno and Horiguchi (StatMed; 2023) in Table 6. #==================================================================== D      = cm214_pfs time   = D$time status = D$status tau    = 21  b = ah1(time=time, status=status, tau=tau, conf.int=0.95) print(b) #> $need_stop #> [1] FALSE #>  #> $tau #> [1] 21 #>  #> $result1 #>             log(Est) SE(log(Est)) log(low_95) log(upp_95)         Est #> F(tau)    -0.4215057   0.03017022  -0.4806382  -0.3623731  0.65605827 #> RMST(tau)  2.4576935   0.02548380   2.4077462   2.5076408 11.67784538 #> AH(tau)   -2.8791992   0.05286051  -2.9828039  -2.7755945  0.05617974 #>                low_95      upp_95 #> F(tau)     0.61838860  0.69602261 #> RMST(tau) 11.10889522 12.27593472 #> AH(tau)    0.05065062  0.06231242 #>  #> attr(,\"class\") #> [1] \"ah1\" #> attr(,\"v_F\") #> [1] 0.770975 #> attr(,\"v_R\") #> [1] 0.5500622 #> attr(,\"v_Q\") #> [1] 2.366716 #> attr(,\"v_U\") #> [1] 0.007469741"},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":null,"dir":"Reference","previous_headings":"","what":"Two-Sample Comparison of Average Hazard — ah2","title":"Two-Sample Comparison of Average Hazard — ah2","text":"ah2 function performs two-sample comparisons using average hazard (AH) summary measure survival time distribution. Two kinds -group contrast metrics, ratio AH (RAH) difference AH (DAH), calculated.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Two-Sample Comparison of Average Hazard — ah2","text":"","code":"ah2(time, status, arm, tau=NULL, conf.int=0.95, eta=0, strata=NULL)"},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Two-Sample Comparison of Average Hazard — ah2","text":"time numeric vector follow-times right-censored data. status numeric vector indicating event status; 1 = event occurred, 0 = right censored. arm binary vector indicating group assignment; elements either 0 1. Typically, 0 = control group 1 = treatment group. tau scalar specifying end time point (tau) calculating average hazard. tau = NULL, default maximum time point risk set size groups least 10. conf.int numeric value specifying confidence level confidence intervals. default 0.95. eta scalar specifying start time point (eta) calculating average hazard time window [eta, tau]. default 0. strata optional numeric vector specifying stratification factor stratified analysis. strata = NULL (default), unstratified analysis performed.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Two-Sample Comparison of Average Hazard — ah2","text":"object class ah2, contains following components: note note indicating time window used analysis, specified [eta, tau]. n.obs summary number observations, including total number, number events tau, number censored observations tau, size risk set tau. ah Estimated average hazard arm. rah Ratio average hazards (RAH), calculated treatment control. dah Difference average hazards (DAH), calculated treatment minus control. conventional_rah Ratio average hazards based conventional stratified analysis method. conventional_dah Difference average hazards based conventional stratified analysis method. stratified_ah Estimated average hazard arm based proposed stratified analysis method. stratified_rah Ratio average hazards based proposed stratified analysis method. stratified_dah Difference average hazards based proposed stratified analysis method.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Two-Sample Comparison of Average Hazard — ah2","text":"function provides AH two groups, absolute difference absolute ratio AH (DAH RAH) two groups, corresponding confidence intervals. also calculates p-values two-sided tests based RAH DAH.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Two-Sample Comparison of Average Hazard — ah2","text":"Uno H Horiguchi M. Ratio difference average hazard survival weight: new measures quantify survival benefit new therapy. Statistics Medicine. 2023;1-17. <doi:10.1002/sim.9651> Horiguchi M, Tian L, Kehl K.L., Uno H. Assessing delayed treatment benefits immunotherapy using long-term average hazard: novel test/estimation approach. <arXiv:2403.10742> Qian Z, Tian L, Horiguchi M, Uno H. novel stratified analysis method testing estimating overall treatment effects time--event outcomes using average hazard survival weight. Statistics Medicine. 2025. <arXiv:2404.00788>","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Two-Sample Comparison of Average Hazard — ah2","text":"Hajime Uno, Miki Horiguchi, Zihan Qian","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Two-Sample Comparison of Average Hazard — ah2","text":"","code":"#==================================================================== # cm214_pfs: The sample reconstructed data of the CheckMate214 study. #==================================================================== # The code below reproduces the results reported by # Uno H and Horiguchi M (StatMed; 2023) in Table 6. D      = cm214_pfs time   = D$time status = D$status arm    = D$arm tau    = 21  a = ah2(time=time, status=status, arm=arm, tau=tau, conf.int=0.95, eta=0) print(a, digits=3) #>  #> The time window: [eta, tau] = [0, 21] was specified. #>  #> Number of observations:  #>      Total N Event by tau Censor by tau At risk at tau #> arm0     422          225           163             34 #> arm1     425          219           160             46 #>  #>  #> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 Upper 0.95 #> AH (arm0) 0.066      0.057      0.076 #> AH (arm1) 0.049      0.042      0.057 #>  #>  #> Between-group contrast:  #>                                Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)       0.747      0.608      0.917   0.005 #> Difference of AH (arm1-arm0) -0.017     -0.029     -0.005   0.006   # The code below reproduces the results reported by # Horiguchi M, Tian L, Kehl K.L, Uno H (arXiv; 2024) in Table 3. b = ah2(time=time, status=status, arm=arm, tau=21, conf.int=0.95, eta=7) print(b, digits=3) #>  #> The time window: [eta, tau] = [7, 21] was specified. #>  #> Number of observations:  #>      Total N Event by tau Censor by tau At risk at tau #> arm0     171           67            70             34 #> arm1     213           61           106             46 #>  #>  #> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 Upper 0.95 #> AH (arm0) 0.051      0.040      0.065 #> AH (arm1) 0.028      0.022      0.037 #>  #>  #> Between-group contrast:  #>                                Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)       0.553      0.387      0.791   0.001 #> Difference of AH (arm1-arm0) -0.023     -0.037     -0.008   0.002   #==================================================================== # Stratified analysis example #==================================================================== D      = myeloid time   = D$futime/365.25 status = D$death arm    = as.numeric(D$trt==\"A\") tau    = 3 strata = as.numeric(D$flt3)  b = ah2(time=time, status=status, arm=arm, strata=strata, tau=tau) print(b, digits=3) #>  #> The time window: [eta, tau] = [0, 3] was specified. #>  #> Number of observations:  #>         total arm0 arm1 #> strata1   149   75   74 #> strata2   319  165  154 #> strata3   178   89   89 #> total     646  329  317 #>  #>  #>      Total N Event by tau Censor by tau At risk at tau #> arm0     329          142            18            169 #> arm1     317          160            28            129 #>  #>  #> <Unstratified analysis> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 Upper 0.95 #> AH (arm0) 0.207      0.175      0.246 #> AH (arm1) 0.290      0.245      0.343 #>  #>  #> <Unstratified analysis> Between-group contrast:  #>                               Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)      1.398      1.099      1.777   0.006 #> Difference of AH (arm1-arm0) 0.082      0.022      0.143   0.007 #>  #>  #> <Stratified analysis> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 (orginal scale) Upper 0.95 (orginal scale) #> AH (arm0) 0.207                      0.170                      0.243 #> AH (arm1) 0.286                      0.235                      0.337 #>           Lower 0.95 (based on log scale) Upper 0.95 (based on log scale) #> AH (arm0)                           0.173                           0.247 #> AH (arm1)                           0.239                           0.342 #>  #>  #> <Stratified analysis> Between-group contrast:  #>                               Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)      1.383      1.076      1.778   0.011 #> Difference of AH (arm1-arm0) 0.079      0.016      0.142   0.013"},{"path":"https://www.uno1lab.com/survAH/reference/ah2.sample.data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a sample data from the pbc data — ah2.sample.data","title":"Generate a sample data from the pbc data — ah2.sample.data","text":"function retrieve 312 randomized patients pbc data survival package.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/ah2.sample.data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a sample data from the pbc data — ah2.sample.data","text":"","code":"ah2.sample.data()"},{"path":"https://www.uno1lab.com/survAH/reference/ah2.sample.data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate a sample data from the pbc data — ah2.sample.data","text":"function creates sample dataset illustrate usage function ah2() package. original pbc data survival package consists 418 patients data. function loads pbc data, select 312 patients randomized. status variable edited, 1 indicates death 0 indicates alive.","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survAH/reference/ah2.sample.data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a sample data from the pbc data — ah2.sample.data","text":"","code":"D=surv2test.sample.data() #> Error in surv2test.sample.data(): could not find function \"surv2test.sample.data\" head(D) #>                                #> 1 function (expr, name)        #> 2 .External(C_doD, expr, name)"},{"path":"https://www.uno1lab.com/survAH/reference/cm214_pfs.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"progression-free survival data reconstructed publication CheckMate214 study.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/cm214_pfs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"","code":"data(cm214_pfs)"},{"path":"https://www.uno1lab.com/survAH/reference/cm214_pfs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"dataset containing 3 columns: time time--event variable (time unit month) status event indicator (1=event, 0=censor) arm treatment indicator (1=treatment, 0=control)","code":""},{"path":"https://www.uno1lab.com/survAH/reference/cm214_pfs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"Motzer RJ, Tannir NM, McDermott DF, et al. Nivolumab plus ipilimumab versus sunitinib advanced renal-cell carcinoma. New England Journal Medicine. 2018;378(14):1277–1290. <doi:10.1056/NEJMoa1712126> Guyot P, Ades AE, Ouwens MJ, Welton NJ. Enhanced secondary analysis survival data: reconstructing data published Kaplan-Meier survival curves. BMC Med Res Methodol. 2012;12(1):9. <doi:10.1186/1471-2288-12-9>","code":""},{"path":"https://www.uno1lab.com/survAH/reference/cm214_pfs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"reconstructed patient-level data results reported Motzer et al.(2018) <doi:10.1056/NEJMoa1712126>. data consists 847 patients previously untreated clear-cell advanced renal-cell carcinoma; 425 nivolumab plus ipilimumab group (treatment) 422 sunitinib group (control).","code":""},{"path":"https://www.uno1lab.com/survAH/reference/print.ah2.html","id":null,"dir":"Reference","previous_headings":"","what":"print.ah2 — print.ah2","title":"print.ah2 — print.ah2","text":"S3 method class 'ah2'","code":""},{"path":"https://www.uno1lab.com/survAH/reference/print.ah2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"print.ah2 — print.ah2","text":"","code":"# S3 method for ah2 print(x, digits=3, ...)"},{"path":"https://www.uno1lab.com/survAH/reference/print.ah2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"print.ah2 — print.ah2","text":"x Object printed. digits Integer indicating number decimal places. ... arguments ignored function.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/print.ah2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"print.ah2 — print.ah2","text":"returns summary output class 'ah2'","code":""},{"path":"https://www.uno1lab.com/survAH/reference/survAH-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Survival Data Analysis using Average Hazard — survAH-package","title":"Survival Data Analysis using Average Hazard — survAH-package","text":"survAH package performs two-sample comparisons based average hazard survival weight (AHSW) general censoring-free incidence rate (CFIR) proposed Uno Horiguchi (2023) <doi:10.1002/sim.9651>.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/survAH-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Survival Data Analysis using Average Hazard — survAH-package","text":"Uno H Horiguchi M. Ratio difference average hazard survival weight: new measures quantify survival benefit new therapy. Statistics Medicine. 2023;1-17. <doi:10.1002/sim.9651> Horiguchi M, Tian L, Kehl K.L., Uno H. Assessing delayed treatment benefits immunotherapy using long-term average hazard: novel test/estimation approach. <arXiv:2403.10742> Qian Z, Tian L, Horiguchi M, Uno H. novel stratified analysis method testing estimating overall treatment effects time--event outcomes using average hazard survival weight. Statistics Medicine. 2025. <arXiv:2404.00788>","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survAH/reference/survAH-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Survival Data Analysis using Average Hazard — survAH-package","text":"Hajime Uno, Miki Horiguchi, Zihan Qian","code":""},{"path":"https://www.uno1lab.com/survAH/reference/survAH.sample.data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a sample data from the pbc data — survAH.sample.data","title":"Generate a sample data from the pbc data — survAH.sample.data","text":"function retrieve 312 randomized patients pbc data survival package.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/survAH.sample.data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a sample data from the pbc data — survAH.sample.data","text":"","code":"survAH.sample.data()"},{"path":"https://www.uno1lab.com/survAH/reference/survAH.sample.data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate a sample data from the pbc data — survAH.sample.data","text":"function creates sample dataset illustrate usage function ah2() package. original pbc data survival package consists 418 patients data. function loads pbc data, select 312 patients randomized. status variable edited, 1 indicates death 0 indicates alive.","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survAH/reference/survAH.sample.data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a sample data from the pbc data — survAH.sample.data","text":"","code":"D=survAH.sample.data() head(D) #>        time status arm #> 1  1.095140      1   1 #> 2 12.320329      0   1 #> 3  2.770705      1   1 #> 4  5.270363      1   1 #> 5  4.117728      0   0 #> 6  6.852841      1   0"},{"path":"https://www.uno1lab.com/survAH/reference/survAH2-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Comparing Average Hazard With Survival Weight — survAH2-package","title":"Comparing Average Hazard With Survival Weight — survAH2-package","text":"Performs two-sample comparisons using restricted mean survival time (RMST) summary measure survival time distribution. Three kinds -group contrast metrics (.e., difference RMST, ratio RMST ratio restricted mean time lost (RMTL)) computed. package function perform ANCOVA-type covariate adjustment well unadjusted analyses measures.","code":""},{"path":"https://www.uno1lab.com/survAH/reference/survAH2-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Comparing Average Hazard With Survival Weight — survAH2-package","text":"Statistics Medicine. 2023. DOI: TBD","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survAH/reference/survAH2-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Comparing Average Hazard With Survival Weight — survAH2-package","text":"Miki Horiguchi, Hajime Uno","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survAH/news/index.html","id":"changes-1-1-2","dir":"Changelog","previous_headings":"","what":"Changes","title":"survAH version 1.1.2 (2025-06-15)","text":"ah1() ah2() check input data make sure time involve 0 negative numbers. example stratified analysis added ah2(). print.ah2() updated produce nicer output.","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survAH/news/index.html","id":"changes-1-1-1","dir":"Changelog","previous_headings":"","what":"Changes","title":"survAH version 1.1.1 (2025-04-30)","text":"ah1() function now provide variance RMST cumulative incidence probability well averaage hazard.","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survAH/news/index.html","id":"new-features-1-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"survAH version 1.1.0 (2025-04-04)","text":"Added eta argument ah2() allow calculation average hazard within specified time window [eta, tau]. Added strata argument ah2() enable stratified analysis.","code":""},{"path":"https://www.uno1lab.com/survAH/news/index.html","id":"changes-1-1-0","dir":"Changelog","previous_headings":"","what":"Changes","title":"survAH version 1.1.0 (2025-04-04)","text":"ah1() function now exported available estimating average hazard single sample (previously hidden function).","code":""},{"path":"https://www.uno1lab.com/survAH/news/index.html","id":"survah-version-100-2023-01-16","dir":"Changelog","previous_headings":"","what":"survAH version 1.0.0 (2023-01-16)","title":"survAH version 1.0.0 (2023-01-16)","text":"CRAN release: 2023-01-17 Initial release.","code":""}]
